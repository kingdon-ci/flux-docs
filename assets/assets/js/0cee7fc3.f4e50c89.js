"use strict";(self.webpackChunkweave_gitops_docs=self.webpackChunkweave_gitops_docs||[]).push([[41894],{74526:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(67294),a=n(88746);n(52426);const r={fontSize:16,marginLeft:4,fontVariant:"all-small-caps"};function p(e){let{tiers:t}=e;return i.createElement(a.Z,{title:`This feature is a available on ${t}.`,style:r},t)}},47303:(e,t,n)=>{n.d(t,{ZP:()=>p});var i=n(87462),a=(n(67294),n(3905));const r={toc:[]};function p(e){let{components:t,...n}=e;return(0,a.kt)("wrapper",(0,i.Z)({},r,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("admonition",{type:"caution"},(0,a.kt)("p",{parentName:"admonition"},(0,a.kt)("strong",{parentName:"p"},"This feature is in alpha and certain aspects will change")),(0,a.kt)("p",{parentName:"admonition"},"We're very excited for people to use this feature.\nHowever, please note that changes in the API, behaviour and security will evolve.\nThe feature is suitable to use in controlled testing environments.")))}p.isMDXComponent=!0},9736:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>l,default:()=>m,frontMatter:()=>o,metadata:()=>s,toc:()=>c});var i=n(87462),a=(n(67294),n(3905)),r=n(74526),p=n(47303);const o={title:"Getting started",hide_title:!0},l='Getting started with pipelines <TierLabel tiers="Enterprise" />',s={unversionedId:"pipelines/getting-started",id:"version-0.18.0/pipelines/getting-started",title:"Getting started",description:"Requirements",source:"@site/versioned_docs/version-0.18.0/pipelines/getting-started.mdx",sourceDirName:"pipelines",slug:"/pipelines/getting-started",permalink:"/docs/0.18.0/pipelines/getting-started",draft:!1,editUrl:"https://github.com/weaveworks/weave-gitops/edit/main/website/versioned_docs/version-0.18.0/pipelines/getting-started.mdx",tags:[],version:"0.18.0",frontMatter:{title:"Getting started",hide_title:!0},sidebar:"docs",previous:{title:"Introduction",permalink:"/docs/0.18.0/pipelines/intro"},next:{title:"Authorization",permalink:"/docs/0.18.0/pipelines/authorization"}},d={},c=[{value:"Requirements",id:"requirements",level:2},{value:"Define a pipeline",id:"define-a-pipeline",level:2},{value:"View the list of pipelines",id:"view-the-list-of-pipelines",level:2},{value:"View the details of a pipeline",id:"view-the-details-of-a-pipeline",level:2}],u={toc:c};function m(e){let{components:t,...o}=e;return(0,a.kt)("wrapper",(0,i.Z)({},u,o,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"getting-started-with-pipelines-"},"Getting started with pipelines ",(0,a.kt)(r.Z,{tiers:"Enterprise",mdxType:"TierLabel"})),(0,a.kt)(p.ZP,{mdxType:"AlphaWarning"}),(0,a.kt)("h2",{id:"requirements"},"Requirements"),(0,a.kt)("admonition",{title:"Feature toggle",type:"tip"},(0,a.kt)("p",{parentName:"admonition"},"The Pipelines feature can be enabled or disabled by setting the ",(0,a.kt)("inlineCode",{parentName:"p"},"enablePipelines"),"\nflag in the values for the Weave GitOps Enterprise Helm Chart.")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"You have configured Weave GitOps Enterprise ",(0,a.kt)("a",{parentName:"li",href:"../authorization"},"RBAC for pipelines"))),(0,a.kt)("h2",{id:"define-a-pipeline"},"Define a pipeline"),(0,a.kt)("p",null,"A pipeline allows you to define the route your application is taking in order to make it to production.\nThere are three main concepts playing in a pipeline:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"the ",(0,a.kt)("inlineCode",{parentName:"li"},"application")," to deliver"),(0,a.kt)("li",{parentName:"ul"},"the ",(0,a.kt)("inlineCode",{parentName:"li"},"environments")," that your app will go through in its way to production (general)"),(0,a.kt)("li",{parentName:"ul"},"the ",(0,a.kt)("inlineCode",{parentName:"li"},"deployment targets")," or the clusters that each environment has")),(0,a.kt)("p",null,"You can define a delivery pipeline using a ",(0,a.kt)("inlineCode",{parentName:"p"},"Pipeline")," custom resource.\nAn example of how it looks for an application ",(0,a.kt)("inlineCode",{parentName:"p"},"podinfo")," is shown below."),(0,a.kt)("details",null,(0,a.kt)("summary",null,"Expand to view"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-yaml"},"---\napiVersion: pipelines.weave.works/v1alpha1\nkind: Pipeline\nmetadata:\n  name: podinfo-02\n  namespace: default\nspec:\n  appRef:\n    apiVersion: helm.toolkit.fluxcd.io/v2beta1\n    kind: HelmRelease\n    name: podinfo\n  environments:\n    - name: dev\n      targets:\n        - namespace: podinfo-02-dev\n          clusterRef:\n            kind: GitopsCluster\n            name: dev\n            namespace: flux-system\n    - name: test\n      targets:\n        - namespace: podinfo-02-qa\n          clusterRef:\n            kind: GitopsCluster\n            name: dev\n            namespace: flux-system\n        - namespace: podinfo-02-perf\n          clusterRef:\n            kind: GitopsCluster\n            name: dev\n            namespace: flux-system\n    - name: prod\n      targets:\n        - namespace: podinfo-02-prod\n          clusterRef:\n            kind: GitopsCluster\n            name: prod\n            namespace: flux-system\n"))),(0,a.kt)("p",null,"In the previous example, ",(0,a.kt)("inlineCode",{parentName:"p"},"podinfo")," application is delivered to a traditional pipeline composed by ",(0,a.kt)("inlineCode",{parentName:"p"},"dev"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"qa"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"perf")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"production")," environments.\nEach environment is backed by a ",(0,a.kt)("inlineCode",{parentName:"p"},"GitopsCluster")," ",(0,a.kt)("a",{parentName:"p",href:"../../cluster-management/managing-existing-clusters/"},"deployment target"),"."),(0,a.kt)("p",null,"For more details about the spec of a pipeline ",(0,a.kt)("a",{parentName:"p",href:"/docs/0.18.0/pipelines/spec/v1alpha1/pipeline"},"see here")),(0,a.kt)("h2",{id:"view-the-list-of-pipelines"},"View the list of pipelines"),(0,a.kt)("p",null,"Once flux has created your pipeline you can navigate to the pipelines view to see it."),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"view pipelines",src:n(91694).Z,width:"2734",height:"1150"})),(0,a.kt)("p",null,"Pipeline list view show the list of pipelines you have access to. For each pipeline, a simplified view of the pipeline\nis shown with the application ",(0,a.kt)("inlineCode",{parentName:"p"},"Type")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"Environments")," it goes through."),(0,a.kt)("h2",{id:"view-the-details-of-a-pipeline"},"View the details of a pipeline"),(0,a.kt)("p",null,"Once you have selected a pipeline from the list, you will navigate to its details view.\nIn pipeline details view you could view the current status of your application by environment and deployment\ntarget."),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"view pipeline details",src:n(94804).Z,width:"3278",height:"1468"})))}m.isMDXComponent=!0},3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>f});var i=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=i.createContext({}),s=function(e){var t=i.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):p(p({},t),e)),n},d=function(e){var t=s(e.components);return i.createElement(l.Provider,{value:t},e.children)},c="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},m=i.forwardRef((function(e,t){var n=e.components,a=e.mdxType,r=e.originalType,l=e.parentName,d=o(e,["components","mdxType","originalType","parentName"]),c=s(n),m=a,f=c["".concat(l,".").concat(m)]||c[m]||u[m]||r;return n?i.createElement(f,p(p({ref:t},d),{},{components:n})):i.createElement(f,p({ref:t},d))}));function f(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=n.length,p=new Array(r);p[0]=m;var o={};for(var l in t)hasOwnProperty.call(t,l)&&(o[l]=t[l]);o.originalType=e,o[c]="string"==typeof e?e:a,p[1]=o;for(var s=2;s<r;s++)p[s]=n[s];return i.createElement.apply(null,p)}return i.createElement.apply(null,n)}m.displayName="MDXCreateElement"},94804:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n.p+"assets/images/view-pipeline-details-7cde9cfbf2aa2f7aa1d51d398ca27873.png"},91694:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n.p+"assets/images/view-pipelines-50b09601373e6bbd748607810045b927.png"}}]);