"use strict";(self.webpackChunkweave_gitops_docs=self.webpackChunkweave_gitops_docs||[]).push([[61602],{32342:(e,t,n)=>{n.d(t,{Z:()=>o});var a=n(67294),r=n(86010);const i="tabItem_Ymn6";function o(e){let{children:t,hidden:n,className:o}=e;return a.createElement("div",{role:"tabpanel",className:(0,r.Z)(i,o),hidden:n},t)}},71125:(e,t,n)=>{n.d(t,{Z:()=>w});var a=n(87462),r=n(67294),i=n(86010),o=n(63735),l=n(16550),s=n(34423),p=n(20636),u=n(99200);function c(e){return function(e){return r.Children.map(e,(e=>{if(!e||(0,r.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}(e).map((e=>{let{props:{value:t,label:n,attributes:a,default:r}}=e;return{value:t,label:n,attributes:a,default:r}}))}function d(e){const{values:t,children:n}=e;return(0,r.useMemo)((()=>{const e=t??c(n);return function(e){const t=(0,p.l)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,n])}function m(e){let{value:t,tabValues:n}=e;return n.some((e=>e.value===t))}function h(e){let{queryString:t=!1,groupId:n}=e;const a=(0,l.k6)(),i=function(e){let{queryString:t=!1,groupId:n}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:t,groupId:n});return[(0,s._X)(i),(0,r.useCallback)((e=>{if(!i)return;const t=new URLSearchParams(a.location.search);t.set(i,e),a.replace({...a.location,search:t.toString()})}),[i,a])]}function f(e){const{defaultValue:t,queryString:n=!1,groupId:a}=e,i=d(e),[o,l]=(0,r.useState)((()=>function(e){let{defaultValue:t,tabValues:n}=e;if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!m({value:t,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${t}" but none of its children has the corresponding value. Available values are: ${n.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return t}const a=n.find((e=>e.default))??n[0];if(!a)throw new Error("Unexpected error: 0 tabValues");return a.value}({defaultValue:t,tabValues:i}))),[s,p]=h({queryString:n,groupId:a}),[c,f]=function(e){let{groupId:t}=e;const n=function(e){return e?`docusaurus.tab.${e}`:null}(t),[a,i]=(0,u.Nk)(n);return[a,(0,r.useCallback)((e=>{n&&i.set(e)}),[n,i])]}({groupId:a}),k=(()=>{const e=s??c;return m({value:e,tabValues:i})?e:null})();(0,r.useLayoutEffect)((()=>{k&&l(k)}),[k]);return{selectedValue:o,selectValue:(0,r.useCallback)((e=>{if(!m({value:e,tabValues:i}))throw new Error(`Can't select invalid tab value=${e}`);l(e),p(e),f(e)}),[p,f,i]),tabValues:i}}var k=n(5730);const g="tabList__CuJ",v="tabItem_LNqP";function y(e){let{className:t,block:n,selectedValue:l,selectValue:s,tabValues:p}=e;const u=[],{blockElementScrollPositionUntilNextRender:c}=(0,o.o5)(),d=e=>{const t=e.currentTarget,n=u.indexOf(t),a=p[n].value;a!==l&&(c(t),s(a))},m=e=>{let t=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{const n=u.indexOf(e.currentTarget)+1;t=u[n]??u[0];break}case"ArrowLeft":{const n=u.indexOf(e.currentTarget)-1;t=u[n]??u[u.length-1];break}}t?.focus()};return r.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,i.Z)("tabs",{"tabs--block":n},t)},p.map((e=>{let{value:t,label:n,attributes:o}=e;return r.createElement("li",(0,a.Z)({role:"tab",tabIndex:l===t?0:-1,"aria-selected":l===t,key:t,ref:e=>u.push(e),onKeyDown:m,onClick:d},o,{className:(0,i.Z)("tabs__item",v,o?.className,{"tabs__item--active":l===t})}),n??t)})))}function b(e){let{lazy:t,children:n,selectedValue:a}=e;const i=(Array.isArray(n)?n:[n]).filter(Boolean);if(t){const e=i.find((e=>e.props.value===a));return e?(0,r.cloneElement)(e,{className:"margin-top--md"}):null}return r.createElement("div",{className:"margin-top--md"},i.map(((e,t)=>(0,r.cloneElement)(e,{key:t,hidden:e.props.value!==a}))))}function N(e){const t=f(e);return r.createElement("div",{className:(0,i.Z)("tabs-container",g)},r.createElement(y,(0,a.Z)({},e,t)),r.createElement(b,(0,a.Z)({},e,t)))}function w(e){const t=(0,k.Z)();return r.createElement(N,(0,a.Z)({key:String(t)},e))}},21408:(e,t,n)=>{n.d(t,{Z:()=>o});var a=n(67294),r=n(88746);n(52426);const i={fontSize:16,marginLeft:4,fontVariant:"all-small-caps"};function o(e){let{tiers:t}=e;return a.createElement(r.Z,{title:`This feature is a available on ${t}.`,style:i},t)}},51684:(e,t,n)=>{n.d(t,{ZP:()=>o});var a=n(87462),r=(n(67294),n(3905));const i={toc:[]};function o(e){let{components:t,...n}=e;return(0,r.kt)("wrapper",(0,a.Z)({},i,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("admonition",{type:"caution"},(0,r.kt)("p",{parentName:"admonition"},(0,r.kt)("strong",{parentName:"p"},"This feature is in alpha and certain aspects will change")),(0,r.kt)("p",{parentName:"admonition"},"We're very excited for people to use this feature.\nHowever, please note that changes in the API, behaviour and security will evolve.\nThe feature is suitable to use in controlled testing environments.")))}o.isMDXComponent=!0},42963:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>p,default:()=>h,frontMatter:()=>s,metadata:()=>u,toc:()=>d});var a=n(87462),r=(n(67294),n(3905)),i=(n(21408),n(51684)),o=n(71125),l=n(32342);const s={title:"Install Weave GitOps Enterprise via CLI",hide_title:!0,toc_max_heading_level:4},p="Install Weave GitOps Enterprise via CLI",u={unversionedId:"enterprise/getting-started/install-enterprise-cli",id:"version-0.38.0/enterprise/getting-started/install-enterprise-cli",title:"Install Weave GitOps Enterprise via CLI",description:"You could install Weave GitOps Enterprise via gitops-ee bootstrap CLI command which is suitable for two main scenarios:",source:"@site/versioned_docs/version-0.38.0/enterprise/getting-started/install-enterprise-cli.mdx",sourceDirName:"enterprise/getting-started",slug:"/enterprise/getting-started/install-enterprise-cli",permalink:"/docs/enterprise/getting-started/install-enterprise-cli",draft:!1,editUrl:"https://github.com/weaveworks/weave-gitops/edit/main/website/versioned_docs/version-0.38.0/enterprise/getting-started/install-enterprise-cli.mdx",tags:[],version:"0.38.0",frontMatter:{title:"Install Weave GitOps Enterprise via CLI",hide_title:!0,toc_max_heading_level:4},sidebar:"docs",previous:{title:"Install Weave GitOps Enterprise",permalink:"/docs/enterprise/getting-started/install-enterprise"},next:{title:"Install Enterprise in Air-gapped Environments",permalink:"/docs/enterprise/getting-started/install-enterprise-airgap"}},c={},d=[{value:"Getting Started",id:"getting-started",level:2},{value:"Prerequisites",id:"prerequisites",level:3},{value:"Install <code>gitops-ee</code> CLI",id:"install-gitops-ee-cli",level:3},{value:"Bootstrap Weave GitOps Enterprise",id:"bootstrap-weave-gitops-enterprise",level:3},{value:"Appendix",id:"appendix",level:2},{value:"Understanding <code>gitops-ee bootstrap</code>",id:"understanding-gitops-ee-bootstrap",level:3},{value:"Verify Flux",id:"verify-flux",level:4},{value:"Bootstrap Flux",id:"bootstrap-flux",level:4},{value:"Verify Entitlement",id:"verify-entitlement",level:4},{value:"Configure Git Access",id:"configure-git-access",level:4},{value:"Select WGE version",id:"select-wge-version",level:4},{value:"Create Cluster User",id:"create-cluster-user",level:4},{value:"Configure Dashboard Access",id:"configure-dashboard-access",level:4},{value:"(Optional) Extra Components",id:"optional-extra-components",level:4},{value:"(Optional) Configure OIDC",id:"optional-configure-oidc",level:4},{value:"Access the dashboard",id:"access-the-dashboard",level:4},{value:"CLI configurations",id:"cli-configurations",level:3}],m={toc:d};function h(e){let{components:t,...n}=e;return(0,r.kt)("wrapper",(0,a.Z)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"install-weave-gitops-enterprise-via-cli"},"Install Weave GitOps Enterprise via CLI"),(0,r.kt)(i.ZP,{mdxType:"AlphaWarning"}),(0,r.kt)("p",null,"You could install Weave GitOps Enterprise via ",(0,r.kt)("inlineCode",{parentName:"p"},"gitops-ee bootstrap")," CLI command which is suitable for two main scenarios:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"Day 0"),": you want to get started quickly for discovery with the less knowledge possible."),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"Day 1"),": you have done discovery and want to set it up in your organisation.")),(0,r.kt)("p",null,"Each scenario is supported by an operation modes:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"Interactive:")," guides you step-by-step through the process until Weave GitOps Enterprise is up and running."),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"Non-interactive:")," for your automated workflows where you are already familiar with install process and have the configuration.")),(0,r.kt)("p",null,"For those seeking other scenarios or fine-grain customisation ",(0,r.kt)("a",{parentName:"p",href:"../install-enterprise"},"Weave GitOps Enterprise manual install")," would be the recommended."),(0,r.kt)("h2",{id:"getting-started"},"Getting Started"),(0,r.kt)("h3",{id:"prerequisites"},"Prerequisites"),(0,r.kt)("admonition",{title:"Required Permissions",type:"warning"},(0,r.kt)("p",{parentName:"admonition"},"A Platform Engineer running the boostrap command requires to have both ",(0,r.kt)("strong",{parentName:"p"},"cluster admin")," permissions on the Management Cluster and ",(0,r.kt)("strong",{parentName:"p"},"push")," permissions to the Git repository.")),(0,r.kt)("p",null,"Before you start make sure the following requirements are met:"),(0,r.kt)("ul",{className:"contains-task-list"},(0,r.kt)("li",{parentName:"ul",className:"task-list-item"},(0,r.kt)("input",{parentName:"li",type:"checkbox",checked:!1,disabled:!0})," ",(0,r.kt)("strong",{parentName:"li"},"Management Cluster"),": a Kubernetes cluster with a Kubeconfig with cluster admin permissions to be able to create resources."),(0,r.kt)("li",{parentName:"ul",className:"task-list-item"},(0,r.kt)("input",{parentName:"li",type:"checkbox",checked:!1,disabled:!0})," ",(0,r.kt)("strong",{parentName:"li"},"Git Repository with SSH access"),": the Git configuration repo to be used by Flux and Weave GitOps."),(0,r.kt)("li",{parentName:"ul",className:"task-list-item"},(0,r.kt)("input",{parentName:"li",type:"checkbox",checked:!1,disabled:!0})," ",(0,r.kt)("strong",{parentName:"li"},"Flux CLI"),": is ",(0,r.kt)("a",{parentName:"li",href:"https://fluxcd.io/flux/installation/#install-the-flux-cli"},"installed")," locally. It will be used for reconciling Flux resources."),(0,r.kt)("li",{parentName:"ul",className:"task-list-item"},(0,r.kt)("input",{parentName:"li",type:"checkbox",checked:!1,disabled:!0})," ",(0,r.kt)("strong",{parentName:"li"},"Weave GitOps Enterprise Entitlements")," are installed in the Management Cluster. Contact ",(0,r.kt)("a",{parentName:"li",href:"/help-and-support/"},"Sales")," for help on getting them."),(0,r.kt)("li",{parentName:"ul",className:"task-list-item"},(0,r.kt)("input",{parentName:"li",type:"checkbox",checked:!1,disabled:!0})," ",(0,r.kt)("strong",{parentName:"li"},"Cert Manager"),": (optional) as a dependency for Policy Agent")),(0,r.kt)("h3",{id:"install-gitops-ee-cli"},"Install ",(0,r.kt)("inlineCode",{parentName:"h3"},"gitops-ee")," CLI"),(0,r.kt)("p",null,"Weave GitOps Enterprise Bootstrap functionality is available on Weave GitOps Enterprise CLI starting from version v0.35. If you haven't already, please install the latest ",(0,r.kt)("inlineCode",{parentName:"p"},"gitops-ee")," CLI using this command."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"brew install weaveworks/tap/gitops-ee\n")),(0,r.kt)("h3",{id:"bootstrap-weave-gitops-enterprise"},"Bootstrap Weave GitOps Enterprise"),(0,r.kt)("p",null,"Please use the following command to start the installation wizard of Weave GitOps Enterprise."),(0,r.kt)(o.Z,{groupId:"getStarted",default:!0,mdxType:"Tabs"},(0,r.kt)(l.Z,{value:"interactive",label:"Interactive",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"gitops bootstrap\n")),(0,r.kt)("p",null,"   The bootstrap wizard will take you step-by-step into configuring Weave GitOps Enterprise. To understand more about the CLI configurations experience, check the below sections ",(0,r.kt)("a",{parentName:"p",href:"#cli-configurations"},"here"),".")),(0,r.kt)(l.Z,{value:"nonInteractive",label:"Non-Interactive",mdxType:"TabItem"},(0,r.kt)("p",null,"   You could run the bootstrap command in non-interactive mode by providing the required configurations as flags. The following gives you an example to get started that you could adapt to your own context"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},' gitops bootstrap \\\n    --kubeconfig=$HOME/.kube/config \\\n    --private-key=$HOME/.ssh/id_ed25519 --private-key-password="" \\\n    --version="0.35.0" \\\n    --domain-type="localhost" \\\n    --password="admin123"  \\\n    --repo-url="ssh://git@github.com/my-org-name/my-repo-name"  \\\n    --branch="main"  \\\n    --repo-path="clusters/my-cluster"\n')),(0,r.kt)("p",null,"   For more information about the CLI configurations, check the below sections ",(0,r.kt)("a",{parentName:"p",href:"#cli-configurations"},"here")))),(0,r.kt)("h2",{id:"appendix"},"Appendix"),(0,r.kt)("h3",{id:"understanding-gitops-ee-bootstrap"},"Understanding ",(0,r.kt)("inlineCode",{parentName:"h3"},"gitops-ee bootstrap")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"gitops-ee bootstrap")," is a workflow that will take you through the following stages:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("a",{parentName:"li",href:"#verifying-flux"},"Verify Flux"),": verify Flux installation on the Management cluster."),(0,r.kt)("li",{parentName:"ol"},"(Optional) ",(0,r.kt)("a",{parentName:"li",href:"#bootstrap-flux"},"Bootstrap Flux"),": bootstrap Flux in case is not found."),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("a",{parentName:"li",href:"#verifying-entitlement"},"Verify Entitlement"),": verify the Entitlements secret content (username, password, entitlement)."),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("a",{parentName:"li",href:"#configure-git-access"},"Configure Git Access"),": configure the access to your configuration repo."),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("a",{parentName:"li",href:"#selecting-wge-version"},"Select WGE version"),": from the latest 3 available releases."),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("a",{parentName:"li",href:"#create-cluster-user"},"Create Cluster User"),": create a Secret with the username and password for the emergency cluster user."),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("a",{parentName:"li",href:"#configure-dashboard-access"},"Configure Dashboard Access"),": choose between 2 methods to access the dashboard either local or external."),(0,r.kt)("li",{parentName:"ol"},"(Optional) ",(0,r.kt)("a",{parentName:"li",href:"#configure-oidc"},"Configure OIDC"),": to enable login to dashboard via OIDC providers."),(0,r.kt)("li",{parentName:"ol"},"(Optional) ",(0,r.kt)("a",{parentName:"li",href:"#extra-components"},"Extra Components"),": to install extra components from (Policy Agent, Terraform Controller)."),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("a",{parentName:"li",href:"#access-the-dashboard"},"Access the dashboard"),": via the link from the installation success message.")),(0,r.kt)("h4",{id:"verify-flux"},"Verify Flux"),(0,r.kt)("p",null,"Weave GitOps Enterprise runs on top of Flux, the bootstrap CLI will check if Flux is installed on the management cluster, and it will verify that it has the right version with valid git repository setup, and it is able to reconcile Flux components properly.\nIf Flux is installed, but doesn't have a valid installation, the bootstrap CLI will terminate pending the fix or uninstall of current Flux installation."),(0,r.kt)("h4",{id:"bootstrap-flux"},"Bootstrap Flux"),(0,r.kt)("p",null,"If Flux is not found in the Management Cluster, you have the ability to bootstrap it with the ",(0,r.kt)("a",{parentName:"p",href:"https://fluxcd.io/flux/installation/bootstrap/generic-git-server/"},"Generic Git"),".\nYou will be prompted to provide: ",(0,r.kt)("inlineCode",{parentName:"p"},"repository url"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"repository branch")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"path")," to reconcile. Based on your ",(0,r.kt)("inlineCode",{parentName:"p"},"repository url")," authentication credentials will be requested.\nFor SSH, ",(0,r.kt)("inlineCode",{parentName:"p"},"private key path")," & ",(0,r.kt)("inlineCode",{parentName:"p"},"private key password"),". For HTTPS, ",(0,r.kt)("inlineCode",{parentName:"p"},"username")," and  ",(0,r.kt)("inlineCode",{parentName:"p"},"password"),". After getting the right info regarding your repo, Flux will start to bootstrap and reconcile your repo."),(0,r.kt)("h4",{id:"verify-entitlement"},"Verify Entitlement"),(0,r.kt)("p",null,"Weave GitOps Enterprise Entitlement is your obtained license to use our product. The Entitlements file is a Kubernetes secret that contains your licence.\n",(0,r.kt)("inlineCode",{parentName:"p"},"Bootstrapping")," checks that the secret exists on the management cluster, and that it is valid will check if it has valid content and the entitlement is not expired.\nTo get the entitlement secret please contact ",(0,r.kt)("em",{parentName:"p"},(0,r.kt)("a",{parentName:"em",href:"mailto:sales@weave.works"},"sales@weave.works")),", then apply it on your management cluster with the name ",(0,r.kt)("inlineCode",{parentName:"p"},"weave-gitops-enterprise-credentials")," under ",(0,r.kt)("inlineCode",{parentName:"p"},"flux-system")," namespace. "),(0,r.kt)("h4",{id:"configure-git-access"},"Configure Git Access"),(0,r.kt)("p",null,"In order for ",(0,r.kt)("inlineCode",{parentName:"p"},"gitops-ee bootstrap")," to push WGE resources to the management cluster's git repository, you will be prompted to provide the private key used to access your repo via ssh. If the private key is encrypted, you will also be asked to provide the private key password. "),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"Disclaimer: The bootstrap CLI will ONLY use the private key to push WGE resources to your repo, and won't use it in any other way that can comprimise your repo or clusters security. ")),(0,r.kt)("h4",{id:"select-wge-version"},"Select WGE version"),(0,r.kt)("p",null,"The bootstrap CLI will prompt you to choose from the latest 3 versions of Weave GitOps Enterprise."),(0,r.kt)("h4",{id:"create-cluster-user"},"Create Cluster User"),(0,r.kt)("p",null,"You will be prompt to provide admin username and password, which will be used to access the dashboard. This will create admin secret with the credentials. If you already have previous admin credentials on your cluster, the installation will prompt you if you want to continue with the old credentials or exit and revoke them and re-run the installation."),(0,r.kt)("h4",{id:"configure-dashboard-access"},"Configure Dashboard Access"),(0,r.kt)("p",null,"Weave GitOps Enterprise dashboard is available by default via ClusterIP service. You could use the ",(0,r.kt)("inlineCode",{parentName:"p"},"port-forward")," command\noutput as part of the bootstrapping session. Other networking configurations could be achieved by\nmodifying the ",(0,r.kt)("inlineCode",{parentName:"p"},"service")," or ",(0,r.kt)("inlineCode",{parentName:"p"},"ingress")," in the ",(0,r.kt)("inlineCode",{parentName:"p"},"HelmRelease")," values:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yaml"},"---\napiVersion: helm.toolkit.fluxcd.io/v2beta1\nkind: HelmRelease\nmetadata:\n  name: weave-gitops-enterprise\n  namespace: flux-system\nspec:\n  values:\n    service: # update to meet your needs\n      ...\n    ingress: # update to meet your needs\n      ...\n")),(0,r.kt)("h4",{id:"optional-extra-components"},"(Optional) Extra Components"),(0,r.kt)("p",null,"The CLI will prompt you to install extra components to the installation from (Policy Agent, Terraform Controller)"),(0,r.kt)("admonition",{type:"note"},(0,r.kt)("p",{parentName:"admonition"},"The controllers will be installed with the default values. To customize controller values, Please edit the corresponding values file and reconcile")),(0,r.kt)("h4",{id:"optional-configure-oidc"},"(Optional) Configure OIDC"),(0,r.kt)("p",null,"OIDC configuration will enable you to login with OIDC provider beside, or instead of the admin credentials. Afte the installation is complete, you will be prompt if you want to configure OIDC access. If you don't want to set it up right away, you can do it later by running ",(0,r.kt)("inlineCode",{parentName:"p"},"gitops-ee bootstrap auth --type=oidc")," command. "),(0,r.kt)("p",null,"To configure OIDC access, you will be asked to provide the following values:\n",(0,r.kt)("inlineCode",{parentName:"p"},"DiscoveryUrl")," this will verify that OIDC is accessible and get the issuerUrl from the OIDC settings.\n",(0,r.kt)("inlineCode",{parentName:"p"},"clientID")," & ",(0,r.kt)("inlineCode",{parentName:"p"},"clientSecret")," that you have configured on your OIDC static-clients."),(0,r.kt)("admonition",{type:"note"},(0,r.kt)("p",{parentName:"admonition"},"Please don't forget to add a new static-client on your OIDC provider settings with the redirectURI ",(0,r.kt)("inlineCode",{parentName:"p"},"your-domain/oauth2/callback")," for example ",(0,r.kt)("inlineCode",{parentName:"p"},"http://localhost:3000/oauth2/callback"))),(0,r.kt)("h4",{id:"access-the-dashboard"},"Access the dashboard"),(0,r.kt)("p",null,"After installation is successful. The CLI will print out the URL where you can access the dashboard."),(0,r.kt)("h3",{id:"cli-configurations"},"CLI configurations"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"--kubeconfig"),"                   Paths to a kubeconfig. Only required if out-of-cluster."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"--bootstrap-flux"),"               chose whether you want to install flux in the generic way in case no flux installation detected"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"-b"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"--branch"),"                 git branch for your flux repository (example: main)"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"-i"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"--client-id"),"              OIDC client ID"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"  "),"  ",(0,r.kt)("inlineCode",{parentName:"li"},"--client-secret"),"          OIDC client secret"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"  "),"  ",(0,r.kt)("inlineCode",{parentName:"li"},"--components-extra"),"       extra components to be installed from (policy-agent, tf-controller)"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"  "),"  ",(0,r.kt)("inlineCode",{parentName:"li"},"--discovery-url"),"          OIDC discovery URL"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"  "),"  ",(0,r.kt)("inlineCode",{parentName:"li"},"--git-password"),"           git password/token used in https authentication type"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"  "),"  ",(0,r.kt)("inlineCode",{parentName:"li"},"--git-username"),"           git username used in https authentication type"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"-h"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"--help"),"                   help for bootstrap"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"-k"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"--private-key"),"            private key path. This key will be used to push the Weave GitOps Enterprise's resources to the default cluster repository"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"-c"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"--private-key-password"),"   private key password. If the private key is encrypted using password"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"-r"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"--repo-path"),"              git path for your flux repository (example: clusters/my-cluster)"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"  "),"  ",(0,r.kt)("inlineCode",{parentName:"li"},"--repo-url"),"               Git repo URL for your Flux repository. For supported URL examples see ",(0,r.kt)("a",{parentName:"li",href:"https://fluxcd.io/flux/cmd/flux_bootstrap_git/"},"here")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"-s"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"--silent"),"                 chose the defaults with current provided information without asking any questions"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"-v"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"--version"),"                version of Weave GitOps Enterprise (should be from the latest 3 versions)"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"-p"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"--password"),"               The Weave GitOps Enterprise password for dashboard access")))}h.isMDXComponent=!0},3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>h});var a=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),p=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},u=function(e){var t=p(e.components);return a.createElement(s.Provider,{value:t},e.children)},c="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,s=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),c=p(n),m=r,h=c["".concat(s,".").concat(m)]||c[m]||d[m]||i;return n?a.createElement(h,o(o({ref:t},u),{},{components:n})):a.createElement(h,o({ref:t},u))}));function h(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,o=new Array(i);o[0]=m;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[c]="string"==typeof e?e:r,o[1]=l;for(var p=2;p<i;p++)o[p]=n[p];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"}}]);