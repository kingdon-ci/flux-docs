"use strict";(self.webpackChunkweave_gitops_docs=self.webpackChunkweave_gitops_docs||[]).push([[58706],{19666:(e,t,i)=>{i.d(t,{Z:()=>p});var n=i(67294),a=i(5730);function p(e){let{children:t,fallback:i}=e;return(0,a.Z)()?n.createElement(n.Fragment,null,t?.()):i??null}},16420:(e,t,i)=>{i.d(t,{Z:()=>l});var n=i(67294),a=i(88746);i(52426);const p={fontSize:16,marginLeft:4,fontVariant:"all-small-caps"};function l(e){let{tiers:t}=e;return n.createElement(a.Z,{title:`This feature is a available on ${t}`,style:p},t)}},10481:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>r,contentTitle:()=>s,default:()=>u,frontMatter:()=>l,metadata:()=>o,toc:()=>d});var n=i(87462),a=(i(67294),i(3905)),p=i(16420);i(77823),i(19666);const l={title:"Getting started",hide_title:!0},s='Getting started with pipelines <TierLabel tiers="enterprise" />',o={unversionedId:"pipelines/getting-started",id:"version-0.16.0/pipelines/getting-started",title:"Getting started",description:"Requirements",source:"@site/versioned_docs/version-0.16.0/pipelines/getting-started.mdx",sourceDirName:"pipelines",slug:"/pipelines/getting-started",permalink:"/docs/0.16.0/pipelines/getting-started",draft:!1,editUrl:"https://github.com/weaveworks/weave-gitops/edit/main/website/versioned_docs/version-0.16.0/pipelines/getting-started.mdx",tags:[],version:"0.16.0",frontMatter:{title:"Getting started",hide_title:!0},sidebar:"docs",previous:{title:"Introduction",permalink:"/docs/0.16.0/pipelines/intro"},next:{title:"Authorization",permalink:"/docs/0.16.0/pipelines/authorization"}},r={},d=[{value:"Requirements",id:"requirements",level:2},{value:"Define a pipeline",id:"define-a-pipeline",level:2},{value:"View the list of pipelines",id:"view-the-list-of-pipelines",level:2},{value:"View the details of a pipeline",id:"view-the-details-of-a-pipeline",level:2}],m={toc:d};function u(e){let{components:t,...l}=e;return(0,a.kt)("wrapper",(0,n.Z)({},m,l,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"getting-started-with-pipelines-"},"Getting started with pipelines ",(0,a.kt)(p.Z,{tiers:"enterprise",mdxType:"TierLabel"})),(0,a.kt)("h2",{id:"requirements"},"Requirements"),(0,a.kt)("admonition",{title:"Feature toggle",type:"note"},(0,a.kt)("p",{parentName:"admonition"},"The Pipelines feature can be enabled or disabled by setting the ",(0,a.kt)("inlineCode",{parentName:"p"},"enablePipelines"),"\nflag in the values for the Weave GitOps Enterprise Helm Chart.")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"You have configured Weave GitOps Enterprise ",(0,a.kt)("a",{parentName:"li",href:"../authorization"},"RBAC for pipelines"))),(0,a.kt)("h2",{id:"define-a-pipeline"},"Define a pipeline"),(0,a.kt)("p",null,"A pipeline allows you to define the route your application is taking in order to make it to production.\nThere are three main concepts playing in a pipeline:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"the ",(0,a.kt)("inlineCode",{parentName:"li"},"application")," to deliver"),(0,a.kt)("li",{parentName:"ul"},"the ",(0,a.kt)("inlineCode",{parentName:"li"},"environments")," that your app will go through in its way to production (general)"),(0,a.kt)("li",{parentName:"ul"},"the ",(0,a.kt)("inlineCode",{parentName:"li"},"deployment targets")," or the clusters that each environment has")),(0,a.kt)("p",null,"You can define a delivery pipeline using a ",(0,a.kt)("inlineCode",{parentName:"p"},"Pipeline")," custom resource.\nAn example of how it looks for an application ",(0,a.kt)("inlineCode",{parentName:"p"},"podinfo")," is shown below."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-yaml"},"apiVersion: pipelines.weave.works/v1alpha1\nkind: Pipeline\nmetadata:\n  name: podinfo-02\n  namespace: default\nspec:\n  appRef:\n    apiVersion: helm.toolkit.fluxcd.io/v2beta1\n    kind: HelmRelease\n    name: podinfo\n  environments:\n    - name: dev\n      targets:\n        - namespace: podinfo-02-dev\n          clusterRef:\n            kind: GitopsCluster\n            name: dev\n            namespace: flux-system\n    - name: test\n      targets:\n        - namespace: podinfo-02-qa\n          clusterRef:\n            kind: GitopsCluster\n            name: dev\n            namespace: flux-system\n        - namespace: podinfo-02-perf\n          clusterRef:\n            kind: GitopsCluster\n            name: dev\n            namespace: flux-system\n    - name: prod\n      targets:\n        - namespace: podinfo-02-prod\n          clusterRef:\n            kind: GitopsCluster\n            name: prod\n            namespace: flux-system\n")),(0,a.kt)("p",null,"In the previous example, ",(0,a.kt)("inlineCode",{parentName:"p"},"podinfo")," application is delivered to a traditional pipeline composed by ",(0,a.kt)("inlineCode",{parentName:"p"},"dev"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"qa"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"perf")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"production")," environments.\nEach environment is backed by a ",(0,a.kt)("inlineCode",{parentName:"p"},"GitopsCluster")," ",(0,a.kt)("a",{parentName:"p",href:"../../cluster-management/managing-existing-clusters/"},"deployment target"),"."),(0,a.kt)("p",null,"For more details about the spec of a pipeline ",(0,a.kt)("a",{parentName:"p",href:"/docs/0.16.0/pipelines/spec/v1alpha1/pipeline"},"see here")),(0,a.kt)("h2",{id:"view-the-list-of-pipelines"},"View the list of pipelines"),(0,a.kt)("p",null,"Once flux has created your pipeline you can navigate to the pipelines view to see it."),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"view pipelines",src:i(30683).Z,width:"2734",height:"1150"})),(0,a.kt)("p",null,"Pipeline list view show the list of pipelines you have access to. For each pipeline, a simplified view of the pipeline\nis shown with the application ",(0,a.kt)("inlineCode",{parentName:"p"},"Type")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"Environments")," it goes through."),(0,a.kt)("h2",{id:"view-the-details-of-a-pipeline"},"View the details of a pipeline"),(0,a.kt)("p",null,"Once you have selected a pipeline from the list, you will navigate to its details view.\nIn pipeline details view you could view the current status of your application by environment and deployment\ntarget."),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"view pipeline details",src:i(59134).Z,width:"3278",height:"1468"})))}u.isMDXComponent=!0},59134:(e,t,i)=>{i.d(t,{Z:()=>n});const n=i.p+"assets/images/view-pipeline-details-7cde9cfbf2aa2f7aa1d51d398ca27873.png"},30683:(e,t,i)=>{i.d(t,{Z:()=>n});const n=i.p+"assets/images/view-pipelines-50b09601373e6bbd748607810045b927.png"}}]);